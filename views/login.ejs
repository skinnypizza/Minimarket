<%- include('partials/header') %>
<main class="login">
    <div class="form-container">
        <h2>Iniciar Sesión</h2>
        <% if (typeof message !== 'undefined' && message) { %>
            <div class="alert alert-error"><%= message %></div>
        <% } %>
        <form action="/auth/login" method="POST">
            <div class="form-group">
                <label for="email">Usuario/Correo electrónico</label>
                <input type="email" id="email" name="email" required placeholder="Ingresa tu correo electrónico">
            </div>
            <div class="form-group">
                <label for="password">Contraseña</label>
                <div style="position: relative;">
                    <input type="password" id="password" name="password" required placeholder="Ingresa tu contraseña">
                    <button type="button" id="togglePassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; color: var(--gris-oscuro); font-size: 1.2rem;" aria-label="Mostrar contraseña">
                        <i class="fas fa-eye" id="eyeIcon"></i>
                    </button>
                </div>
            </div>
            <button type="submit" class="btn">Iniciar Sesión</button>
        </form>
        <script>
            // Mostrar/ocultar contraseña
            document.getElementById('togglePassword').addEventListener('click', function() {
                const passwordInput = document.getElementById('password');
                const eyeIcon = document.getElementById('eyeIcon');
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    eyeIcon.classList.remove('fa-eye');
                    eyeIcon.classList.add('fa-eye-slash');
                } else {
                    passwordInput.type = 'password';
                    eyeIcon.classList.remove('fa-eye-slash');
                    eyeIcon.classList.add('fa-eye');
                }
            });
        </script>
        <p style="margin-top:1rem; text-align:center;">
            ¿No tienes cuenta? <a href="/auth/register">Regístrate</a>
        </p>
    </div>
</main>
<%- include('partials/footer') %>